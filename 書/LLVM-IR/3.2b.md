## 3.2 浮點數（Floating Point）　(LLVM IR)

在 LLVM IR 中，浮點數（Floating Point）數據類型以及它們的操作被支持。浮點數數據類型包括半精度（half）、單精度（float）、雙精度（double）和四倍精度（quad）。這些浮點數類型具有不同的位數和精度。

半精度浮點數（half）使用16位來表示，有1位用於符號位（S），5位用於指數（E）和10位用於尾數（M）。單精度浮點數（float）使用32位來表示，有1位用於符號位（S），8位用於指數（E）和23位用於尾數（M）。雙精度浮點數（double）使用64位來表示，有1位用於符號位（S），11位用於指數（E）和52位用於尾數（M）。四倍精度浮點數（quad）使用128位來表示，有1位用於符號位（S），15位用於指數（E）和112位用於尾數（M）。

在 LLVM IR 中，對於浮點數的算術和比較操作，存在相應的指令。以下是一些常用的浮點數指令：

- fadd: 浮點數加法指令
- fsub: 浮點數減法指令
- fmul: 浮點數乘法指令
- fdiv: 浮點數除法指令
- fcmp: 浮點數比較指令
- fsqrt: 浮點數平方根指令
- fptrunc: 浮點數截斷指令
- fpext: 浮點數擴展指令

這些指令可以根據具體需求進行組合和使用，從而實現各種浮點數運算和比較操作。

例如，以下是一個使用 LLVM IR 指令進行浮點數加法的示例：

```
define float @add_float(float %a, float %b) {
    %result = fadd float %a, %b
    ret float %result
}
```

這個示例定義了一個名為 `add_float` 的函數，接受兩個單精度浮點數參數 `a` 和 `b`。使用 `fadd` 指令將這兩個參數相加，並將結果存儲在 `%result` 中。最後使用 `ret` 指令返回計算結果。

這僅僅是使用 LLVM IR 進行浮點數操作的一個簡單示例，實際情況中還可能涉及到其他指令和操作。但是，通過組合這些指令，可以實現複雜的浮點數算術和比較操作。